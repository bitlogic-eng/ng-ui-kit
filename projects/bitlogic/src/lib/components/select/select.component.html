<mat-form-field appearance="outline">
  <mat-label>{{ label }}</mat-label>

  <!-- Multiple -->
  <mat-select *ngIf="isMultiple" 
              multiple
              #select
              (selectionChange)="onSelectionChange($event)"
              [formControl]="selectControl"
              disableOptionCentering
              panelClass="select-margin-top"
              [(value)]="selected">

              <mat-select-trigger>
                <div *ngIf="selected?.length == options?.length">
                  {{allText}}
                </div>
                <div *ngIf="selected?.length != options?.length">
                  {{selected ? selected[0]?.value : ''}}
                  <span *ngIf="selected?.length > 1" class="example-additional-selection">
                    ({{selected.length - 1}} {{selected?.length === 2 ? otherText.text1 : otherText.text2}})
                  </span>
                </div>
              </mat-select-trigger>

    <mat-option disabled="disabled" class="filter-option">
      <button mat-button color="primary" (click)="selectAll()">
       {{selectButtons.selectAll}}
      </button>
      <button mat-button color="primary" (click)="deselectAll()">
          {{selectButtons.deselectAll}}
      </button>
    </mat-option>
                          
    <mat-option *ngFor="let option of options"
                [value]="option">
      {{option.value}}
    </mat-option>
  </mat-select>

  <!-- Simple -->
  <mat-select *ngIf="!isMultiple"
              (selectionChange)="onSelectionChange($event)"
              [formControl]="selectControl"
              disableOptionCentering
              panelClass="select-margin-top">

    <mat-option *ngFor="let option of options"
                [value]="option">
      {{option.value}}
    </mat-option>
  </mat-select>

</mat-form-field>
